version: "3.8"
services:
  esp32-dev:
    build: .
    container_name: esp32-dev
    volumes:
      - ./:/workspace
      - esp-idf-cache:/root/.espressif
    working_dir: /workspace/firmware
    tty: true
    devices:
      - /dev/ttyUSB0:/dev/ttyUSB0
    environment:
      - IDF_TARGET=esp32s3
volumes:
  esp-idf-cache:
